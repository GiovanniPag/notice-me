<div
  [ngClass]="theme"
  class="ng2-tag-input"
  (click)="focus(true)"
  [attr.tabindex]="-1"
  (drop)="dragZone ? onTagDropped($event, undefined) : undefined"
  (dragenter)="dragZone ? onDragOver($event) : undefined"
  (dragover)="dragZone ? onDragOver($event) : undefined"
  (dragend)="dragZone ? dragProvider.onDragEnd() : undefined"
  [class.ng2-tag-input--dropping]="isDropping()"
  [class.ng2-tag-input--disabled]="disable"
  [class.ng2-tag-input--invalid]="hasErrors()"
  [class.ng2-tag-input--focused]="isInputFocused()"
>
  <!-- TAGS -->
  <div class="ng2-tags-container">
    <jhi-tag-chip
      *ngFor="let item of items; let i = index; trackBy: trackBy"
      (onSelect)="selectItem(item)"
      (onRemove)="onRemoveRequested(item, i)"
      (onKeyDown)="handleKeydown($event)"
      (onBlur)="onTagBlurred($event, i)"
      (dragstart)="dragZone ? onDragStarted($event, item, i) : undefined"
      (drop)="dragZone ? onTagDropped($event, i) : undefined"
      (dragenter)="dragZone ? onDragOver($event) : undefined"
      (dragover)="dragZone ? onDragOver($event, i) : undefined"
      (dragleave)="dragZone ? dragProvider.onDragEnd() : undefined"
      [canAddTag]="isTagValid"
      [attr.tabindex]="0"
      [disabled]="disable"
      [@animation]="animationMetadata"
      [index]="i"
      [draggable]="dragZone"
      [model]="item"
    >
    </jhi-tag-chip>

    <jhi-tag-chips-form
      (onSubmit)="onFormSubmit()"
      (onBlur)="blur()"
      (onKeydown)="fireEvents('keydown', $event)"
      (onKeyup)="fireEvents('keyup', $event)"
      [disabled]="disable"
      [validators]="validators"
      [asyncValidators]="asyncValidators"
      [placeholder]="items.length ? placeholder : secondaryPlaceholder"
      [inputClass]="inputClass"
      [inputId]="inputId"
    >
    </jhi-tag-chips-form>
  </div>
</div>

<!-- ERRORS -->
<div *ngIf="hasErrors()" [ngClass]="theme" class="error-messages">
  <p *ngFor="let error of errors" class="error-message">
    <span>{{ error }}</span>
  </p>
</div>
<ng-content></ng-content>
